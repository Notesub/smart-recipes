from fastapi import FastAPI
from fastapi.responses import HTMLResponse
import sqlite3
import json
import webbrowser
import threading
import time
import uvicorn
import os
import re

app = FastAPI()

# –°–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤
PRODUCT_SYNONYMS = {
    '–∫—É—Ä–∏—Ü–∞': ['–∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞', '–≥—Ä—É–¥–∫–∞ –∫—É—Ä–∏–Ω–∞—è', '–∫—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ', '—Ñ–∏–ª–µ –∫—É—Ä–∏–Ω–æ–µ', '–∫—É—Ä–æ—á–∫–∞', '–∫—É—Ä–∏–Ω–∫–∞'],
    '–ø–æ–º–∏–¥–æ—Ä': ['—Ç–æ–º–∞—Ç', '–ø–æ–º–∏–¥–æ—Ä—ã', '—Ç–æ–º–∞—Ç—ã', '–ø–æ–º–∏–¥–æ—Ä—á–∏–∫–∏'],
    '–ª—É–∫': ['–ª—É–∫ —Ä–µ–ø—á–∞—Ç—ã–π', '—Ä–µ–ø—á–∞—Ç—ã–π –ª—É–∫', '–ª—É–∫–æ–≤–∏—Ü–∞', '–ª—É–∫ –±–µ–ª—ã–π'],
    '–º–æ—Ä–∫–æ–≤—å': ['–º–æ—Ä–∫–æ–≤–∫–∞', '–º–æ—Ä–∫–æ–≤–æ—á–∫–∞'],
    '–∫–∞—Ä—Ç–æ—Ñ–µ–ª—å': ['–∫–∞—Ä—Ç–æ—à–∫–∞', '–∫–∞—Ä—Ç–æ—à–µ—á–∫–∞', '–∫–∞—Ä—Ç–æ—Ñ–∞–Ω'],
    '—á–µ—Å–Ω–æ–∫': ['—á–µ—Å–Ω–æ—á–µ–∫', '—á–µ—Å–Ω–æ—á–æ–∫'],
    '—è–π—Ü–æ': ['—è–π—Ü–∞', '—è–∏—á–∫–∏', '—è–π—Ü–æ –∫—É—Ä–∏–Ω–æ–µ'],
    '–º—É–∫–∞': ['–º—É–∫–∞ –ø—à–µ–Ω–∏—á–Ω–∞—è', '–ø—à–µ–Ω–∏—á–Ω–∞—è –º—É–∫–∞'],
    '—Å–∞—Ö–∞—Ä': ['—Å–∞—Ö–∞—Ä–æ–∫', '–ø–µ—Å–æ–∫ —Å–∞—Ö–∞—Ä–Ω—ã–π'],
    '—Å–æ–ª—å': ['—Å–æ–ª—å –ø–æ–≤–∞—Ä–µ–Ω–Ω–∞—è', '—Å–æ–ª—å –ø–∏—â–µ–≤–∞—è'],
    '–º–∞—Å–ª–æ': ['–º–∞—Å–ª–æ —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ', '—Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –º–∞—Å–ª–æ', '–º–∞—Å–ª–æ –ø–æ–¥—Å–æ–ª–Ω–µ—á–Ω–æ–µ'],
    '–º–æ–ª–æ–∫–æ': ['–º–æ–ª–æ—á–∫–æ', '–º–æ–ª–æ–∫–æ –∫–æ—Ä–æ–≤—å–µ'],
    '—Å–º–µ—Ç–∞–Ω–∞': ['—Å–º–µ—Ç–∞–Ω–∫–∞', '—Å–º–µ—Ç–∞–Ω–∞ –¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∞—è'],
    '—Å—ã—Ä': ['—Å—ã—Ä —Ç–≤–µ—Ä–¥—ã–π', '—Ç–≤–µ—Ä–¥—ã–π —Å—ã—Ä', '—Å—ã—Ä–æ–∫'],
    '—Ñ–∞—Ä—à': ['—Ñ–∞—Ä—à –º—è—Å–Ω–æ–π', '–º—è—Å–Ω–æ–π —Ñ–∞—Ä—à', '—Ñ–∞—Ä—à –∫—É—Ä–∏–Ω—ã–π'],
    '—Ä–∏—Å': ['—Ä–∏—Å–∏–Ω–∫–∞', '—Ä–∏—Å –±–µ–ª—ã–π'],
    '–≥—Ä–µ—á–∫–∞': ['–∫—Ä—É–ø–∞ –≥—Ä–µ—á–Ω–µ–≤–∞—è', '–≥—Ä–µ—á–Ω–µ–≤–∞—è –∫—Ä—É–ø–∞'],
    '–º–∞–∫–∞—Ä–æ–Ω—ã': ['–ø–∞—Å—Ç–∞', '–º–∞–∫–∞—Ä–æ–Ω–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è'],
    '—Ö–ª–µ–±': ['—Ö–ª–µ–±—É—à–µ–∫', '–±–∞—Ç–æ–Ω'],
    '—Ç–≤–æ—Ä–æ–≥': ['—Ç–≤–æ—Ä–æ–∂–æ–∫', '—Ç–≤–æ—Ä–æ–≥ –∑–µ—Ä–Ω–µ–Ω—ã–π'],
    '—Å–≤–∏–Ω–∏–Ω–∞': ['—Å–≤–∏–Ω–∏–Ω–∫–∞', '–º—è—Å–æ —Å–≤–∏–Ω–æ–µ'],
    '–≥–æ–≤—è–¥–∏–Ω–∞': ['–≥–æ–≤—è–¥–∏–Ω–∫–∞', '–º—è—Å–æ –≥–æ–≤—è–∂—å–µ'],
    '—Ä—ã–±–∞': ['—Ä—ã–±–∫–∞', '—Ä—ã–±–æ—á–∫–∞'],
    '–∫—Ä–µ–≤–µ—Ç–∫–∏': ['–∫—Ä–µ–≤–µ—Ç–æ—á–∫–∏', '–∫—Ä–µ–≤–µ—Ç–∫–∞'],
    '–≥—Ä–∏–±—ã': ['–≥—Ä–∏–±–æ—á–∫–∏', '—à–∞–º–ø–∏–Ω—å–æ–Ω—ã'],
    '–ø–µ—Ä–µ—Ü': ['–ø–µ—Ä–µ—Ü –±–æ–ª–≥–∞—Ä—Å–∫–∏–π', '–±–æ–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ—Ü'],
    '–æ–≥—É—Ä–µ—Ü': ['–æ–≥—É—Ä—á–∏–∫', '–æ–≥—É—Ä—Ü—ã'],
    '–∫–∞–ø—É—Å—Ç–∞': ['–∫–∞–ø—É—Å—Ç–∫–∞', '–∫–∞–ø—É—Å—Ç–æ—á–∫–∞'],
    '—Å–≤–µ–∫–ª–∞': ['—Å–≤–µ–∫–æ–ª–∫–∞', '–±—É—Ä—è–∫'],
    '–º–æ—Ä–∫–æ–≤—å': ['–º–æ—Ä–∫–æ–≤–∫–∞', '–º–æ—Ä–∫–æ–≤–æ—á–∫–∞'],
    '—É–∫—Ä–æ–ø': ['—É–∫—Ä–æ–ø—á–∏–∫', '–∑–µ–ª–µ–Ω—å —É–∫—Ä–æ–ø–∞'],
    '–ø–µ—Ç—Ä—É—à–∫–∞': ['–ø–µ—Ç—Ä—É—à–µ—á–∫–∞', '–∑–µ–ª–µ–Ω—å –ø–µ—Ç—Ä—É—à–∫–∏'],
    '–ª–∏–º–æ–Ω': ['–ª–∏–º–æ–Ω—á–∏–∫', '–ª–∏–º–æ–Ω–Ω—ã–π —Å–æ–∫'],
    '–º–µ–¥': ['–º–µ–¥–æ–∫', '–º–µ–¥ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π'],
    '–∫–æ—Ñ–µ': ['–∫–æ—Ñ–µ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π', '–∑–µ—Ä–Ω–æ–≤–æ–π –∫–æ—Ñ–µ'],
    '—á–∞–π': ['—á–∞–µ–∫', '—á–∞–π —á–µ—Ä–Ω—ã–π']
}

def normalize_product(product):
    """–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞, –ø—Ä–∏–≤–æ–¥—è –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É"""
    product_lower = product.lower().strip()
    
    # –ò—â–µ–º –≤ —Å–∏–Ω–æ–Ω–∏–º–∞—Ö
    for main_product, synonyms in PRODUCT_SYNONYMS.items():
        if product_lower == main_product or product_lower in synonyms:
            return main_product
    
    # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤ —Å–∏–Ω–æ–Ω–∏–º–∞—Ö, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å (–Ω–æ –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ)
    return product_lower

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
def init_db():
    # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    if os.path.exists('food.db'):
        os.remove('food.db')
    
    conn = sqlite3.connect('food.db')
    conn.execute('''
        CREATE TABLE IF NOT EXISTS recipes (
            id INTEGER PRIMARY KEY,
            name TEXT,
            ingredients TEXT,
            instructions TEXT,
            time INTEGER,
            url TEXT,
            detailed_instructions TEXT
        )
    ''')
    conn.execute('''
        CREATE TABLE IF NOT EXISTS user_products (
            id INTEGER PRIMARY KEY,
            product TEXT UNIQUE
        )
    ''')
    
    # –í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
    recipes = [
        (1, '–ì—É—Å—Ç–æ–π –º–æ–ª–æ—á–Ω–æ-–∫–ª—É–±–Ω–∏—á–Ω—ã–π –∫–æ–∫—Ç–µ–π–ª—å', 
         '["–º–æ–ª–æ–∫–æ", "–∫–ª—É–±–Ω–∏–∫–∞", "—Å–∞—Ö–∞—Ä"]', 
         '–°–º–µ—à–∞—Ç—å –≤—Å–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –≤ –±–ª–µ–Ω–¥–µ—Ä–µ',
         5, 
         'https://www.povarenok.ru/recipes/show/164365/',
         '''üçì –ü–û–î–†–û–ë–ù–û–ï –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï (5 –º–∏–Ω—É—Ç):
         
1. –ü–û–î–ì–û–¢–û–í–ö–ê –ò–ù–ì–†–ï–î–ò–ï–ù–¢–û–í (2 –º–∏–Ω—É—Ç—ã):
   - –ö–ª—É–±–Ω–∏–∫—É (200 –≥) –ø—Ä–æ–º—ã—Ç—å, —É–¥–∞–ª–∏—Ç—å —Ö–≤–æ—Å—Ç–∏–∫–∏
   - –ï—Å–ª–∏ –∫–ª—É–±–Ω–∏–∫–∞ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω–∞—è, —Ä–∞–∑–º–æ—Ä–æ–∑–∏—Ç—å –ø—Ä–∏ –∫–æ–º–Ω–∞—Ç–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ 10 –º–∏–Ω—É—Ç

2. –°–ú–ï–®–ò–í–ê–ù–ò–ï (3 –º–∏–Ω—É—Ç—ã):
   - –í —á–∞—à—É –±–ª–µ–Ω–¥–µ—Ä–∞ –≤—ã–ª–æ–∂–∏—Ç—å –∫–ª—É–±–Ω–∏–∫—É
   - –î–æ–±–∞–≤–∏—Ç—å —Ö–æ–ª–æ–¥–Ω–æ–µ –º–æ–ª–æ–∫–æ (250 –º–ª)
   - –í—Å—ã–ø–∞—Ç—å —Å–∞—Ö–∞—Ä (15 –≥)
   - –í–∑–±–∏–≤–∞—Ç—å –Ω–∞ –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ 2-3 –º–∏–Ω—É—Ç—ã –¥–æ –æ–¥–Ω–æ—Ä–æ–¥–Ω–æ–π –ø–µ–Ω–Ω–æ–π –º–∞—Å—Å—ã

3. –ü–û–î–ê–ß–ê:
   - –ü–µ—Ä–µ–ª–∏—Ç—å –≤ –≤—ã—Å–æ–∫–∏–π —Å—Ç–∞–∫–∞–Ω
   - –£–∫—Ä–∞—Å–∏—Ç—å —Å–≤–µ–∂–µ–π –∫–ª—É–±–Ω–∏–∫–æ–π
   - –ü–æ–¥–∞–≤–∞—Ç—å —Å—Ä–∞–∑—É –∂–µ

üí° –°–û–í–ï–¢: –î–ª—è –±–æ–ª–µ–µ –Ω–µ–∂–Ω–æ–π —Ç–µ–∫—Å—Ç—É—Ä—ã –ø—Ä–æ—Ü–µ–¥–∏—Ç—å —á–µ—Ä–µ–∑ —Å–∏—Ç–æ'''),

        (2, '–ö—É—Ä–∏–Ω—ã–µ –∫–æ—Ç–ª–µ—Ç—ã —Å –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω—ã–º –ø—é—Ä–µ', 
         '["–∫—É—Ä–∏—Ü–∞", "–∫–∞—Ä—Ç–æ—Ñ–µ–ª—å", "–ª—É–∫", "—è–π—Ü–æ", "–º—É–∫–∞", "–º–æ–ª–æ–∫–æ", "–º–∞—Å–ª–æ"]', 
         '–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ—Ç–ª–µ—Ç—ã –∏ –ø—é—Ä–µ',
         45, 
         'https://www.povarenok.ru/recipes/show/167337/',
         '''üçó –ü–û–î–†–û–ë–ù–û–ï –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï (45 –º–∏–Ω—É—Ç):
         
1. –ü–û–î–ì–û–¢–û–í–ö–ê (15 –º–∏–Ω—É—Ç):
   - –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å (1 –∫–≥) –æ—á–∏—Å—Ç–∏—Ç—å, –Ω–∞—Ä–µ–∑–∞—Ç—å –∫—É–±–∏–∫–∞–º–∏ 3√ó3 —Å–º
   - –õ—É–∫ (1 —à—Ç) –º–µ–ª–∫–æ –Ω–∞—Ä–µ–∑–∞—Ç—å
   - –ö—É—Ä–∏–Ω—ã–π —Ñ–∞—Ä—à (800 –≥) —Å–º–µ—à–∞—Ç—å —Å –ª—É–∫–æ–º
   - –î–æ–±–∞–≤–∏—Ç—å —è–π—Ü–æ, —Å–æ–ª—å, –ø–µ—Ä–µ—Ü –ø–æ –≤–∫—É—Å—É

2. –ö–û–¢–õ–ï–¢–´ (15 –º–∏–Ω—É—Ç):
   - –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ç–ª–µ—Ç—ã —Ç–æ–ª—â–∏–Ω–æ–π 2 —Å–º
   - –û–±–≤–∞–ª—è—Ç—å –≤ –º—É–∫–µ (2 —Å—Ç.–ª.)
   - –†–∞–∑–æ–≥—Ä–µ—Ç—å —Å–∫–æ–≤–æ—Ä–æ–¥—É —Å –º–∞—Å–ª–æ–º (3 —Å—Ç.–ª.)
   - –û–±–∂–∞—Ä–∏—Ç—å —Å –¥–≤—É—Ö —Å—Ç–æ—Ä–æ–Ω –ø–æ 4-5 –º–∏–Ω—É—Ç –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ–π –∫–æ—Ä–æ—á–∫–∏
   - –£–±–∞–≤–∏—Ç—å –æ–≥–æ–Ω—å, —Ç—É—à–∏—Ç—å –ø–æ–¥ –∫—Ä—ã—à–∫–æ–π 5 –º–∏–Ω—É—Ç

3. –ü–Æ–†–ï (15 –º–∏–Ω—É—Ç):
   - –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –≤–∞—Ä–∏—Ç—å 15 –º–∏–Ω—É—Ç –¥–æ –º—è–≥–∫–æ—Å—Ç–∏ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–ª–∫–æ–π)
   - –°–ª–∏—Ç—å –≤–æ–¥—É, –¥–æ–±–∞–≤–∏—Ç—å –≥–æ—Ä—è—á–µ–µ –º–æ–ª–æ–∫–æ (200 –º–ª)
   - –†–∞–∑–º—è—Ç—å —Ç–æ–ª–∫—É—à–∫–æ–π, –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Å–ª–æ (50 –≥)
   - –í–∑–±–∏—Ç—å –≤–µ–Ω—á–∏–∫–æ–º –¥–æ –ø—ã—à–Ω–æ—Å—Ç–∏

4. –ü–û–î–ê–ß–ê:
   - –í—ã–ª–æ–∂–∏—Ç—å –ø—é—Ä–µ –Ω–∞ —Ç–∞—Ä–µ–ª–∫—É
   - –†—è–¥–æ–º —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –∫–æ—Ç–ª–µ—Ç—ã
   - –£–∫—Ä–∞—Å–∏—Ç—å –∑–µ–ª–µ–Ω—å—é'''),

        (3, '–°–∞–ª–∞—Ç "–ë–∞–∫–ª–∞–∂–∞–Ω—á–∏–∫"', 
         '["–±–∞–∫–ª–∞–∂–∞–Ω", "–ø–æ–º–∏–¥–æ—Ä", "–ª—É–∫", "—á–µ—Å–Ω–æ–∫", "–º–∞—Å–ª–æ", "—Å–æ–ª—å"]', 
         '–ù–∞—Ä–µ–∑–∞—Ç—å –æ–≤–æ—â–∏ –∏ –∑–∞–ø–µ—á—å',
         30, 
         'https://www.povarenok.ru/recipes/show/10625/',
         '''üçÜ –ü–û–î–†–û–ë–ù–û–ï –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï (30 –º–∏–Ω—É—Ç):
         
1. –ü–û–î–ì–û–¢–û–í–ö–ê –û–í–û–©–ï–ô (10 –º–∏–Ω—É—Ç):
   - –ë–∞–∫–ª–∞–∂–∞–Ω—ã (3 —à—Ç) –Ω–∞—Ä–µ–∑–∞—Ç—å –∫—Ä—É–∂–∫–∞–º–∏ —Ç–æ–ª—â–∏–Ω–æ–π 1 —Å–º
   - –ü–æ—Å–æ–ª–∏—Ç—å, –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ 5 –º–∏–Ω—É—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≥–æ—Ä–µ—á–∏
   - –ü—Ä–æ–º—ã—Ç—å, –æ–±—Å—É—à–∏—Ç—å
   - –ü–æ–º–∏–¥–æ—Ä—ã (2 —à—Ç) –Ω–∞—Ä–µ–∑–∞—Ç—å –¥–æ–ª—å–∫–∞–º–∏
   - –õ—É–∫ (2 —à—Ç) –Ω–∞—Ä–µ–∑–∞—Ç—å –ø–æ–ª—É–∫–æ–ª—å—Ü–∞–º–∏

2. –ó–ê–ü–ï–ö–ê–ù–ò–ï (15 –º–∏–Ω—É—Ç):
   - –†–∞–∑–æ–≥—Ä–µ—Ç—å –¥—É—Ö–æ–≤–∫—É –¥–æ 200¬∞C
   - –ü—Ä–æ—Ç–∏–≤–µ–Ω—å —Å–º–∞–∑–∞—Ç—å –º–∞—Å–ª–æ–º (2 —Å—Ç.–ª.)
   - –í—ã–ª–æ–∂–∏—Ç—å –±–∞–∫–ª–∞–∂–∞–Ω—ã –≤ –æ–¥–∏–Ω —Å–ª–æ–π
   - –°–±—Ä—ã–∑–Ω—É—Ç—å –º–∞—Å–ª–æ–º, –ø–æ—Å–æ–ª–∏—Ç—å
   - –ó–∞–ø–µ–∫–∞—Ç—å 15 –º–∏–Ω—É—Ç –¥–æ –º—è–≥–∫–æ—Å—Ç–∏

3. –°–ë–û–†–ö–ê –°–ê–õ–ê–¢–ê (5 –º–∏–Ω—É—Ç):
   - –ì–æ—Ç–æ–≤—ã–µ –±–∞–∫–ª–∞–∂–∞–Ω—ã –æ—Å—Ç—É–¥–∏—Ç—å
   - –°–º–µ—à–∞—Ç—å —Å –ø–æ–º–∏–¥–æ—Ä–∞–º–∏ –∏ –ª—É–∫–æ–º
   - –î–æ–±–∞–≤–∏—Ç—å –∏–∑–º–µ–ª—å—á–µ–Ω–Ω—ã–π —á–µ—Å–Ω–æ–∫ (1 –∑—É–±—á–∏–∫)
   - –ó–∞–ø—Ä–∞–≤–∏—Ç—å –æ–ª–∏–≤–∫–æ–≤—ã–º –º–∞—Å–ª–æ–º (3 —Å—Ç.–ª.)
   - –ü–æ—Å–æ–ª–∏—Ç—å –ø–æ –≤–∫—É—Å—É

üí° –°–û–í–ï–¢: –î–∞—Ç—å —Å–∞–ª–∞—Ç—É –Ω–∞—Å—Ç–æ—è—Ç—å—Å—è 10 –º–∏–Ω—É—Ç –¥–ª—è –Ω–∞—Å—ã—â–µ–Ω–Ω–æ–≥–æ –≤–∫—É—Å–∞'''),

        (4, '–ì—Ä–µ—á–∫–∞ —Å –≥—Ä–∏–±–∞–º–∏', 
         '["–≥—Ä–µ—á–∫–∞", "–≥—Ä–∏–±—ã", "–ª—É–∫", "–º–æ—Ä–∫–æ–≤—å", "–º–∞—Å–ª–æ", "—Å–æ–ª—å"]', 
         '–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –≥—Ä–µ—á–∫—É —Å –≥—Ä–∏–±–∞–º–∏',
         25, 
         'https://www.povarenok.ru/recipes/show/148043/',
         '''üçÑ –ü–û–î–†–û–ë–ù–û–ï –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï (25 –º–∏–Ω—É—Ç):
         
1. –ü–û–î–ì–û–¢–û–í–ö–ê (10 –º–∏–Ω—É—Ç):
   - –ì—Ä–µ—á–∫—É (200 –≥) –ø–µ—Ä–µ–±—Ä–∞—Ç—å, –ø—Ä–æ–º—ã—Ç—å
   - –ì—Ä–∏–±—ã (300 –≥) –Ω–∞—Ä–µ–∑–∞—Ç—å –ø–ª–∞—Å—Ç–∏–Ω–∞–º–∏
   - –õ—É–∫ (1 —à—Ç) –Ω–∞—Ä–µ–∑–∞—Ç—å –∫—É–±–∏–∫–∞–º–∏
   - –ú–æ—Ä–∫–æ–≤—å (1 —à—Ç) –Ω–∞—Ç–µ—Ä–µ—Ç—å –Ω–∞ –∫—Ä—É–ø–Ω–æ–π —Ç–µ—Ä–∫–µ

2. –û–ë–ñ–ê–†–ö–ê –û–í–û–©–ï–ô (10 –º–∏–Ω—É—Ç):
   - –†–∞–∑–æ–≥—Ä–µ—Ç—å —Å–∫–æ–≤–æ—Ä–æ–¥—É —Å –º–∞—Å–ª–æ–º (3 —Å—Ç.–ª.)
   - –û–±–∂–∞—Ä–∏—Ç—å –ª—É–∫ 3 –º–∏–Ω—É—Ç—ã –¥–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
   - –î–æ–±–∞–≤–∏—Ç—å –º–æ—Ä–∫–æ–≤—å, –∂–∞—Ä–∏—Ç—å 4 –º–∏–Ω—É—Ç—ã
   - –î–æ–±–∞–≤–∏—Ç—å –≥—Ä–∏–±—ã, –∂–∞—Ä–∏—Ç—å 5-7 –º–∏–Ω—É—Ç –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ–≥–æ —Ü–≤–µ—Ç–∞

3. –í–ê–†–ö–ê –ì–†–ï–ß–ö–ò (15 –º–∏–Ω—É—Ç):
   - –í –∫–∞—Å—Ç—Ä—é–ª—é –≤—Å—ã–ø–∞—Ç—å –≥—Ä–µ—á–∫—É
   - –ó–∞–ª–∏—Ç—å –≤–æ–¥–æ–π –≤ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ 1:2 (400 –º–ª)
   - –î–æ–±–∞–≤–∏—Ç—å —Å–æ–ª—å (1 —á.–ª.)
   - –í–∞—Ä–∏—Ç—å 15 –º–∏–Ω—É—Ç –Ω–∞ —Å—Ä–µ–¥–Ω–µ–º –æ–≥–Ω–µ –ø–æ–¥ –∫—Ä—ã—à–∫–æ–π
   - –°–º–µ—à–∞—Ç—å —Å –æ–±–∂–∞—Ä–µ–Ω–Ω—ã–º–∏ –æ–≤–æ—â–∞–º–∏

4. –¢–û–ú–õ–ï–ù–ò–ï (5 –º–∏–Ω—É—Ç):
   - –ù–∞–∫—Ä—ã—Ç—å –∫—Ä—ã—à–∫–æ–π
   - –î–∞—Ç—å –ø–æ—Å—Ç–æ—è—Ç—å 5-10 –º–∏–Ω—É—Ç –¥–ª—è –ø—Ä–æ–ø–∞—Ä–∏–≤–∞–Ω–∏—è'''),

        (5, '–û–º–ª–µ—Ç —Å –ø–æ–º–∏–¥–æ—Ä–∞–º–∏ –∏ —Å—ã—Ä–æ–º', 
         '["—è–π—Ü–æ", "–ø–æ–º–∏–¥–æ—Ä", "—Å—ã—Ä", "–º–æ–ª–æ–∫–æ", "–º–∞—Å–ª–æ", "—Å–æ–ª—å"]', 
         '–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –ø—ã—à–Ω—ã–π –æ–º–ª–µ—Ç',
         15, 
         'https://www.povarenok.ru/recipes/show/21115/',
         '''üç≥ –ü–û–î–†–û–ë–ù–û–ï –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï (15 –º–∏–Ω—É—Ç):
         
1. –ü–û–î–ì–û–¢–û–í–ö–ê (5 –º–∏–Ω—É—Ç):
   - –Ø–π—Ü–∞ (3 —à—Ç) –≤–∑–±–∏—Ç—å –≤–µ–Ω—á–∏–∫–æ–º 2 –º–∏–Ω—É—Ç—ã
   - –î–æ–±–∞–≤–∏—Ç—å –º–æ–ª–æ–∫–æ (50 –º–ª), —Å–æ–ª—å (0.5 —á.–ª.)
   - –ü–æ–º–∏–¥–æ—Ä (1 —à—Ç) –Ω–∞—Ä–µ–∑–∞—Ç—å –∫—É–±–∏–∫–∞–º–∏ 1√ó1 —Å–º
   - –°—ã—Ä (50 –≥) –Ω–∞—Ç–µ—Ä–µ—Ç—å –Ω–∞ –∫—Ä—É–ø–Ω–æ–π —Ç–µ—Ä–∫–µ

2. –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï (8 –º–∏–Ω—É—Ç):
   - –†–∞–∑–æ–≥—Ä–µ—Ç—å —Å–∫–æ–≤–æ—Ä–æ–¥—É —Å –º–∞—Å–ª–æ–º (1 —Å—Ç.–ª.) –Ω–∞ —Å—Ä–µ–¥–Ω–µ–º –æ–≥–Ω–µ
   - –í—ã–ª–∏—Ç—å —è–∏—á–Ω—É—é —Å–º–µ—Å—å
   - –ß–µ—Ä–µ–∑ 2 –º–∏–Ω—É—Ç—ã –≤—ã–ª–æ–∂–∏—Ç—å –ø–æ–º–∏–¥–æ—Ä—ã
   - –ü–æ—Å—ã–ø–∞—Ç—å —Å—ã—Ä–æ–º
   - –ù–∞–∫—Ä—ã—Ç—å –∫—Ä—ã—à–∫–æ–π, –≥–æ—Ç–æ–≤–∏—Ç—å 5-6 –º–∏–Ω—É—Ç

3. –ü–û–î–ê–ß–ê (2 –º–∏–Ω—É—Ç—ã):
   - –°–≤–µ—Ä–Ω—É—Ç—å –æ–º–ª–µ—Ç –ø–æ–ø–æ–ª–∞–º
   - –ü–æ—Å—ã–ø–∞—Ç—å –∑–µ–ª–µ–Ω—å—é
   - –ü–æ–¥–∞–≤–∞—Ç—å –≥–æ—Ä—è—á–∏–º

üí° –°–û–í–ï–¢: –ù–µ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞—Ç—å –æ–º–ª–µ—Ç –≤–æ –≤—Ä–µ–º—è –≥–æ—Ç–æ–≤–∫–∏ –¥–ª—è –ø—ã—à–Ω–æ—Å—Ç–∏'''),

        (6, '–ö—É—Ä–∏–Ω—ã–π —Å—É–ø —Å –ª–∞–ø—à–æ–π', 
         '["–∫—É—Ä–∏—Ü–∞", "–∫–∞—Ä—Ç–æ—Ñ–µ–ª—å", "–º–æ—Ä–∫–æ–≤—å", "–ª—É–∫", "–ª–∞–ø—à–∞", "—Å–æ–ª—å"]', 
         '–°–≤–∞—Ä–∏—Ç—å –∫—É—Ä–∏–Ω—ã–π —Å—É–ø',
         40, 
         'https://www.povarenok.ru/recipes/show/5110/',
         '''üçú –ü–û–î–†–û–ë–ù–û–ï –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï (40 –º–∏–Ω—É—Ç):
         
1. –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï –ë–£–õ–¨–û–ù–ê (25 –º–∏–Ω—É—Ç):
   - –ö—É—Ä–∏—Ü—É (500 –≥) –∑–∞–ª–∏—Ç—å —Ö–æ–ª–æ–¥–Ω–æ–π –≤–æ–¥–æ–π (2 –ª)
   - –î–æ–≤–µ—Å—Ç–∏ –¥–æ –∫–∏–ø–µ–Ω–∏—è, —Å–Ω—è—Ç—å –ø–µ–Ω—É
   - –í–∞—Ä–∏—Ç—å –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–º –æ–≥–Ω–µ 20 –º–∏–Ω—É—Ç
   - –î–æ–±–∞–≤–∏—Ç—å —Å–æ–ª—å (1 —Å—Ç.–ª.)

2. –û–í–û–©–ò (10 –º–∏–Ω—É—Ç):
   - –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å (3 —à—Ç) –Ω–∞—Ä–µ–∑–∞—Ç—å –∫—É–±–∏–∫–∞–º–∏ 2√ó2 —Å–º
   - –ú–æ—Ä–∫–æ–≤—å (1 —à—Ç) –Ω–∞—Ç–µ—Ä–µ—Ç—å –Ω–∞ –∫—Ä—É–ø–Ω–æ–π —Ç–µ—Ä–∫–µ
   - –õ—É–∫ (1 —à—Ç) –Ω–∞—Ä–µ–∑–∞—Ç—å –º–µ–ª–∫–∏–º–∏ –∫—É–±–∏–∫–∞–º–∏

3. –°–ë–û–†–ö–ê –°–£–ü–ê (15 –º–∏–Ω—É—Ç):
   - –î–æ—Å—Ç–∞—Ç—å –∫—É—Ä–∏—Ü—É, –æ—Ç–¥–µ–ª–∏—Ç—å –º—è—Å–æ –æ—Ç –∫–æ—Å—Ç–µ–π
   - –í –±—É–ª—å–æ–Ω –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, –≤–∞—Ä–∏—Ç—å 10 –º–∏–Ω—É—Ç
   - –î–æ–±–∞–≤–∏—Ç—å –º–æ—Ä–∫–æ–≤—å –∏ –ª—É–∫, –≤–∞—Ä–∏—Ç—å 5 –º–∏–Ω—É—Ç
   - –í–µ—Ä–Ω—É—Ç—å –∫—É—Ä–∏–Ω–æ–µ –º—è—Å–æ
   - –î–æ–±–∞–≤–∏—Ç—å –ª–∞–ø—à—É (100 –≥), –≤–∞—Ä–∏—Ç—å 5 –º–∏–Ω—É—Ç

4. –ù–ê–°–¢–û–Ø–¢–¨:
   - –í—ã–∫–ª—é—á–∏—Ç—å –æ–≥–æ–Ω—å
   - –ù–∞–∫—Ä—ã—Ç—å –∫—Ä—ã—à–∫–æ–π
   - –î–∞—Ç—å –Ω–∞—Å—Ç–æ—è—Ç—å—Å—è 10-15 –º–∏–Ω—É—Ç'''),

        (7, '–®–æ–∫–æ–ª–∞–¥–Ω—ã–µ —Ç—Ä—é—Ñ–µ–ª–∏', 
         '["—à–æ–∫–æ–ª–∞–¥", "—Å–ª–∏–≤–∫–∏", "–º–∞—Å–ª–æ", "–∫–∞–∫–∞–æ"]', 
         '–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —à–æ–∫–æ–ª–∞–¥–Ω—ã–µ –∫–æ–Ω—Ñ–µ—Ç—ã',
         90, 
         'https://www.povarenok.ru/recipes/show/16766/',
         '''üç´ –ü–û–î–†–û–ë–ù–û–ï –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï (90 –º–∏–Ω—É—Ç + –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ):
         
1. –ü–û–î–ì–û–¢–û–í–ö–ê –ì–ê–ù–ê–® (15 –º–∏–Ω—É—Ç):
   - –®–æ–∫–æ–ª–∞–¥ (200 –≥) –ø–æ–ª–æ–º–∞—Ç—å –Ω–∞ –º–µ–ª–∫–∏–µ –∫—É—Å–æ—á–∫–∏
   - –°–ª–∏–≤–∫–∏ (200 –º–ª) –Ω–∞–≥—Ä–µ—Ç—å –¥–æ 80¬∞C (–Ω–µ –∫–∏–ø—è—Ç–∏—Ç—å!)
   - –ó–∞–ª–∏—Ç—å —Å–ª–∏–≤–∫–∞–º–∏ —à–æ–∫–æ–ª–∞–¥, –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ 2 –º–∏–Ω—É—Ç—ã
   - –î–æ–±–∞–≤–∏—Ç—å –º–∞—Å–ª–æ (100 –≥), –ø–µ—Ä–µ–º–µ—à–∞—Ç—å –¥–æ –≥–ª–∞–¥–∫–æ—Å—Ç–∏

2. –û–•–õ–ê–ñ–î–ï–ù–ò–ï (60 –º–∏–Ω—É—Ç):
   - –ù–∞–∫—Ä—ã—Ç—å –ø–ª–µ–Ω–∫–æ–π –≤ –∫–æ–Ω—Ç–∞–∫—Ç
   - –û—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∏ –∫–æ–º–Ω–∞—Ç–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ 30 –º–∏–Ω—É—Ç
   - –ó–∞—Ç–µ–º —É–±—Ä–∞—Ç—å –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ –Ω–∞ 30 –º–∏–Ω—É—Ç

3. –§–û–†–ú–û–í–ö–ê (15 –º–∏–Ω—É—Ç):
   - –°—Ç–æ–ª–æ–≤—É—é –ª–æ–∂–∫—É –æ—Ö–ª–∞–¥–∏—Ç—å –≤ –≥–æ—Ä—è—á–µ–π –≤–æ–¥–µ
   - –ù–∞–±–∏—Ä–∞—Ç—å –º–∞—Å—Å—É, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —à–∞—Ä–∏–∫–∏
   - –û–±–≤–∞–ª—è—Ç—å –≤ –∫–∞–∫–∞–æ-–ø–æ—Ä–æ—à–∫–µ (50 –≥)

4. –•–†–ê–ù–ï–ù–ò–ï:
   - –•—Ä–∞–Ω–∏—Ç—å –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ –≤ –≥–µ—Ä–º–µ—Ç–∏—á–Ω–æ–π —Ç–∞—Ä–µ
   - –ü–µ—Ä–µ–¥ –ø–æ–¥–∞—á–µ–π –¥–∞—Ç—å –ø–æ—Å—Ç–æ—è—Ç—å 10 –º–∏–Ω—É—Ç –ø—Ä–∏ –∫–æ–º–Ω–∞—Ç–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ

üí° –°–û–í–ï–¢: –î–ª—è –∞—Ä–æ–º–∞—Ç–∞ –¥–æ–±–∞–≤–∏—Ç—å 1 —Å—Ç.–ª. –∫–æ–Ω—å—è–∫–∞'''),

        (8, '–°–∞–ª–∞—Ç "–¶–µ–∑–∞—Ä—å" —Å –∫—É—Ä–∏—Ü–µ–π', 
         '["–∫—É—Ä–∏—Ü–∞", "—Å–∞–ª–∞—Ç", "–ø–æ–º–∏–¥–æ—Ä", "—Å—ã—Ä", "—Å—É—Ö–∞—Ä–∏", "—Å–æ—É—Å"]', 
         '–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ü–µ–∑–∞—Ä—å',
         20, 
         'https://www.povarenok.ru/recipes/show/135187/',
         '''ü•ó –ü–û–î–†–û–ë–ù–û–ï –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï (20 –º–∏–Ω—É—Ç):
         
1. –ö–£–†–ò–¶–ê (10 –º–∏–Ω—É—Ç):
   - –§–∏–ª–µ –∫—É—Ä–∏–Ω–æ–µ (300 –≥) –Ω–∞—Ä–µ–∑–∞—Ç—å –ø–æ–ª–æ—Å–∫–∞–º–∏ 1√ó4 —Å–º
   - –û–±–∂–∞—Ä–∏—Ç—å –Ω–∞ —Å–∫–æ–≤–æ—Ä–æ–¥–µ 8-10 –º–∏–Ω—É—Ç –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ—Å—Ç–∏
   - –ü–æ—Å–æ–ª–∏—Ç—å, –ø–æ–ø–µ—Ä—á–∏—Ç—å –ø–æ –≤–∫—É—Å—É

2. –ü–û–î–ì–û–¢–û–í–ö–ê –û–°–ù–û–í–´ (5 –º–∏–Ω—É—Ç):
   - –õ–∏—Å—Ç—å—è —Å–∞–ª–∞—Ç–∞ (200 –≥) –ø–æ—Ä–≤–∞—Ç—å —Ä—É–∫–∞–º–∏
   - –ü–æ–º–∏–¥–æ—Ä—ã —á–µ—Ä—Ä–∏ (150 –≥) —Ä–∞–∑—Ä–µ–∑–∞—Ç—å –ø–æ–ø–æ–ª–∞–º
   - –°—ã—Ä –ø–∞—Ä–º–µ–∑–∞–Ω (50 –≥) –Ω–∞—Ç–µ—Ä–µ—Ç—å –Ω–∞ —Ç–µ—Ä–∫–µ

3. –°–ë–û–†–ö–ê (5 –º–∏–Ω—É—Ç):
   - –ù–∞ —Ç–∞—Ä–µ–ª–∫—É –≤—ã–ª–æ–∂–∏—Ç—å –ª–∏—Å—Ç—å—è —Å–∞–ª–∞—Ç–∞
   - –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –∫—É—Ä–∏—Ü—É –∏ –ø–æ–º–∏–¥–æ—Ä—ã
   - –ü–æ—Å—ã–ø–∞—Ç—å —Å—É—Ö–∞—Ä–∏–∫–∞–º–∏ (50 –≥)
   - –ü–æ–ª–∏—Ç—å —Å–æ—É—Å–æ–º —Ü–µ–∑–∞—Ä—å (3 —Å—Ç.–ª.)
   - –£–∫—Ä–∞—Å–∏—Ç—å —Å—ã—Ä–æ–º

üí° –°–û–í–ï–¢: –°—É—Ö–∞—Ä–∏–∫–∏ –º–æ–∂–Ω–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∞–º–∏–º –∏–∑ –±–∞–≥–µ—Ç–∞'''),

        (9, '–ü–ª–æ–≤ —Å –∫—É—Ä–∏—Ü–µ–π', 
         '["–∫—É—Ä–∏—Ü–∞", "—Ä–∏—Å", "–º–æ—Ä–∫–æ–≤—å", "–ª—É–∫", "–º–∞—Å–ª–æ", "—Å–ø–µ—Ü–∏–∏"]', 
         '–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –ø–ª–æ–≤ –ø–æ-–¥–æ–º–∞—à–Ω–µ–º—É',
         40, 
         'https://www.povarenok.ru/recipes/show/139360/',
         '''üçö –ü–û–î–†–û–ë–ù–û–ï –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï (40 –º–∏–Ω—É—Ç):
         
1. –ü–û–î–ì–û–¢–û–í–ö–ê –ó–ò–†–í–ê–ö–ê (15 –º–∏–Ω—É—Ç):
   - –†–∞–∑–æ–≥—Ä–µ—Ç—å –∫–∞–∑–∞–Ω —Å –º–∞—Å–ª–æ–º (100 –º–ª)
   - –õ—É–∫ (2 —à—Ç) –Ω–∞—Ä–µ–∑–∞—Ç—å –ø–æ–ª—É–∫–æ–ª—å—Ü–∞–º–∏, –æ–±–∂–∞—Ä–∏—Ç—å 5 –º–∏–Ω—É—Ç
   - –î–æ–±–∞–≤–∏—Ç—å –∫—É—Ä–∏—Ü—É (500 –≥), –æ–±–∂–∞—Ä–∏—Ç—å 7 –º–∏–Ω—É—Ç
   - –ú–æ—Ä–∫–æ–≤—å (2 —à—Ç) –Ω–∞—Ç–µ—Ä–µ—Ç—å, –¥–æ–±–∞–≤–∏—Ç—å –∫ –º—è—Å—É
   - –¢—É—à–∏—Ç—å 5 –º–∏–Ω—É—Ç –ø–æ–¥ –∫—Ä—ã—à–∫–æ–π

2. –ó–ê–ö–õ–ê–î–ö–ê –†–ò–°–ê (25 –º–∏–Ω—É—Ç):
   - –†–∏—Å (400 –≥) –ø—Ä–æ–º—ã—Ç—å –¥–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –≤–æ–¥—ã
   - –í—ã–ª–æ–∂–∏—Ç—å –ø–æ–≤–µ—Ä—Ö –º—è—Å–∞, —Ä–∞–∑—Ä–æ–≤–Ω—è—Ç—å
   - –ó–∞–ª–∏—Ç—å –≤–æ–¥–æ–π –Ω–∞ 2 —Å–º –≤—ã—à–µ —Ä–∏—Å–∞
   - –î–æ–±–∞–≤–∏—Ç—å —Å–æ–ª—å (1 —Å—Ç.–ª.), –∑–∏—Ä—É (1 —á.–ª.)
   - –ì–æ—Ç–æ–≤–∏—Ç—å –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–º –æ–≥–Ω–µ 20 –º–∏–Ω—É—Ç

3. –£–ü–ê–†–ò–í–ê–ù–ò–ï:
   - –°–æ–±—Ä–∞—Ç—å —Ä–∏—Å –≥–æ—Ä–∫–æ–π
   - –ù–∞–∫—Ä—ã—Ç—å –ø–æ–ª–æ—Ç–µ–Ω—Ü–µ–º, –∫—Ä—ã—à–∫–æ–π
   - –î–∞—Ç—å –ø–æ—Å—Ç–æ—è—Ç—å 15-20 –º–∏–Ω—É—Ç'''),

        (10, '–¢–≤–æ—Ä–æ–∂–Ω–∞—è –∑–∞–ø–µ–∫–∞–Ω–∫–∞', 
         '["—Ç–≤–æ—Ä–æ–≥", "—è–π—Ü–æ", "—Å–∞—Ö–∞—Ä", "–º–∞–Ω–∫–∞", "—Å–º–µ—Ç–∞–Ω–∞", "–∏–∑—é–º"]', 
         '–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –Ω–µ–∂–Ω—É—é –∑–∞–ø–µ–∫–∞–Ω–∫—É',
         50, 
         'https://www.povarenok.ru/recipes/show/2379/',
         '''üç∞ –ü–û–î–†–û–ë–ù–û–ï –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–ï (50 –º–∏–Ω—É—Ç):
         
1. –ü–û–î–ì–û–¢–û–í–ö–ê –¢–ï–°–¢–ê (10 –º–∏–Ω—É—Ç):
   - –¢–≤–æ—Ä–æ–≥ (500 –≥) –ø—Ä–æ—Ç–µ—Ä–µ—Ç—å —á–µ—Ä–µ–∑ —Å–∏–Ω–æ
   - –î–æ–±–∞–≤–∏—Ç—å —è–π—Ü–∞ (3 —à—Ç), —Å–∞—Ö–∞—Ä (100 –≥)
   - –í—Å—ã–ø–∞—Ç—å –º–∞–Ω–∫—É (3 —Å—Ç.–ª.), –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ 15 –º–∏–Ω—É—Ç
   - –î–æ–±–∞–≤–∏—Ç—å –∏–∑—é–º (50 –≥), –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –∑–∞–º–æ—á–µ–Ω–Ω—ã–π

2. –§–û–†–ú–û–í–ö–ê –ò –í–´–ü–ï–ß–ö–ê (40 –º–∏–Ω—É—Ç):
   - –†–∞–∑–æ–≥—Ä–µ—Ç—å –¥—É—Ö–æ–≤–∫—É –¥–æ 180¬∞C
   - –§–æ—Ä–º—É —Å–º–∞–∑–∞—Ç—å –º–∞—Å–ª–æ–º (1 —Å—Ç.–ª.)
   - –í—ã–ª–æ–∂–∏—Ç—å —Ç–≤–æ—Ä–æ–∂–Ω—É—é –º–∞—Å—Å—É, —Ä–∞–∑—Ä–æ–≤–Ω—è—Ç—å
   - –°–º–∞–∑–∞—Ç—å —Å–º–µ—Ç–∞–Ω–æ–π (2 —Å—Ç.–ª.)
   - –í—ã–ø–µ–∫–∞—Ç—å 35-40 –º–∏–Ω—É—Ç –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ–π –∫–æ—Ä–æ—á–∫–∏

3. –ü–û–î–ê–ß–ê:
   - –û—Å—Ç—É–¥–∏—Ç—å –≤ —Ñ–æ—Ä–º–µ 15 –º–∏–Ω—É—Ç
   - –ü–æ—Å—ã–ø–∞—Ç—å —Å–∞—Ö–∞—Ä–Ω–æ–π –ø—É–¥—Ä–æ–π
   - –ü–æ–¥–∞–≤–∞—Ç—å —Å–æ —Å–º–µ—Ç–∞–Ω–æ–π –∏–ª–∏ –≤–∞—Ä–µ–Ω—å–µ–º

üí° –°–û–í–ï–¢: –î–ª—è –≤–æ–∑–¥—É—à–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å 0.5 —á.–ª. —Ä–∞–∑—Ä—ã—Ö–ª–∏—Ç–µ–ª—è''')
    ]
    
    for recipe in recipes:
        conn.execute('INSERT OR IGNORE INTO recipes VALUES (?, ?, ?, ?, ?, ?, ?)', recipe)
    conn.commit()
    conn.close()

init_db()

# HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞
HTML = """
<!DOCTYPE html>
<html>
<head>
    <title>Food Planner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0; 
            padding: 20px; 
            min-height: 100vh;
        }
        
        .container { 
            max-width: 1400px; 
            margin: 0 auto; 
            background: white; 
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header { 
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header p {
            font-size: 1.3em;
            opacity: 0.9;
            font-weight: 300;
        }
        
        .main { 
            display: grid; 
            grid-template-columns: 400px 1fr; 
            gap: 0;
            min-height: 70vh;
        }
        
        .products-section { 
            background: #f8f9fa; 
            padding: 30px;
            border-right: 1px solid #e9ecef;
        }
        
        .recipes-section { 
            padding: 30px; 
            background: white;
        }
        
        h2 {
            color: #2d3436;
            margin-bottom: 25px;
            font-size: 1.8em;
            font-weight: 600;
        }
        
        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        input { 
            flex: 1;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        button { 
            padding: 15px 25px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        button:hover { 
            background: #5a6fd8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .find-btn {
            background: #00b894;
            width: 100%;
            margin-top: 20px;
            font-size: 18px;
            padding: 18px;
        }
        
        .find-btn:hover {
            background: #00a085;
        }
        
        .clear-btn {
            background: #fd79a8;
            width: 100%;
            margin-top: 10px;
        }
        
        .clear-btn:hover {
            background: #e84393;
        }
        
        .delete-btn {
            background: #fd79a8;
            padding: 8px 12px;
            font-size: 12px;
            width: auto;
        }
        
        .url-btn {
            background: #0984e3;
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            text-decoration: none;
            display: inline-block;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 14px;
        }
        
        .url-btn:hover {
            background: #0770c4;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(9, 132, 227, 0.3);
        }
        
        .products-list {
            max-height: 250px;
            overflow-y: auto;
            margin: 20px 0;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            background: white;
        }
        
        .product-item { 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            padding: 15px 20px;
            border-bottom: 1px solid #f1f3f4;
            transition: background 0.2s;
        }
        
        .product-item:hover {
            background: #f8f9fa;
        }
        
        .product-item:last-child {
            border-bottom: none;
        }
        
        .recipes-container {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .recipe-card { 
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: all 0.3s;
            border-left: 5px solid #667eea;
        }
        
        .recipe-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .recipe-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .recipe-card h3 {
            color: #2d3436;
            font-size: 1.4em;
            font-weight: 600;
            margin: 0;
        }
        
        .match-badge {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }
        
        .recipe-meta {
            color: #636e72;
            margin-bottom: 20px;
            font-size: 0.95em;
        }
        
        .ingredients-section {
            margin-bottom: 20px;
        }
        
        .ingredients-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .ingredient { 
            background: #74b9ff; 
            color: white; 
            padding: 6px 14px; 
            border-radius: 20px; 
            font-size: 0.85em;
            font-weight: 500;
        }
        
        .ingredient.has {
            background: #00b894;
        }
        
        .ingredient.missing {
            background: #fd79a8;
        }
        
        .missing-ingredients {
            background: #fff5f5;
            border: 1px solid #ffcccc;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }
        
        .missing-ingredients h4 {
            color: #e74c3c;
            margin-bottom: 8px;
            font-size: 1em;
        }
        
        .instructions {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-top: 15px;
            white-space: pre-line;
            line-height: 1.6;
        }
        
        .instructions strong {
            color: #2d3436;
            display: block;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .instructions p {
            line-height: 1.6;
            color: #2d3436;
            margin: 0;
        }
        
        .empty-state {
            text-align: center;
            color: #636e72;
            padding: 60px 20px;
            font-size: 1.1em;
        }
        
        .empty-state .icon {
            font-size: 3em;
            margin-bottom: 15px;
            opacity: 0.5;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        .products-list::-webkit-scrollbar,
        .recipes-container::-webkit-scrollbar {
            width: 6px;
        }
        
        .products-list::-webkit-scrollbar-track,
        .recipes-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .products-list::-webkit-scrollbar-thumb,
        .recipes-container::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 10px;
        }
        
        .products-list::-webkit-scrollbar-thumb:hover,
        .recipes-container::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        .synonym-hint {
            font-size: 0.8em;
            color: #636e72;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üç≥ –£–º–Ω—ã–π Food Planner</h1>
            <p>–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ —É –≤–∞—Å –µ—Å—Ç—å –∏ –Ω–∞–π–¥–∏—Ç–µ —Ä–µ—Ü–µ–ø—Ç—ã!</p>
            <p class="synonym-hint">üí° –ú–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å: "–∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞", "–∫—É—Ä–æ—á–∫–∞", "–∫—É—Ä–∏—Ü–∞" - —Å–∏—Å—Ç–µ–º–∞ –ø–æ–π–º–µ—Ç!</p>
        </div>
        
        <div class="main">
            <div class="products-section">
                <h2>üì• –í–∞—à–∏ –ø—Ä–æ–¥—É–∫—Ç—ã</h2>
                
                <div class="input-group">
                    <input type="text" id="productInput" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, –ø–æ–º–∏–¥–æ—Ä—á–∏–∫, –ª—É–∫–æ–≤–∫–∞..." onkeypress="handleEnter(event)">
                    <button onclick="addProduct()">+</button>
                </div>

                <div class="products-list" id="productsList">
                    <div class="empty-state">
                        <div class="icon">üìù</div>
                        <p>–ù–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤</p>
                    </div>
                </div>

                <button onclick="findRecipes()" class="find-btn">üîç –ù–∞–π—Ç–∏ —Ä–µ—Ü–µ–ø—Ç—ã</button>
                <button onclick="clearProducts()" class="clear-btn">‚ùå –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
            </div>
            
            <div class="recipes-section">
                <h2>üìñ –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã</h2>
                <div class="recipes-container" id="recipesContainer">
                    <div class="empty-state">
                        <div class="icon">üë®‚Äçüç≥</div>
                        <p>–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –Ω–∞–∂–º–∏—Ç–µ "–ù–∞–π—Ç–∏ —Ä–µ—Ü–µ–ø—Ç—ã"</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function handleEnter(event) {
            if (event.key === 'Enter') {
                addProduct();
            }
        }

        async function addProduct() {
            const productInput = document.getElementById('productInput');
            const product = productInput.value.trim();
            
            if (!product) {
                alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞');
                return;
            }

            try {
                const response = await fetch('/api/products/' + encodeURIComponent(product), {
                    method: 'POST'
                });
                
                productInput.value = '';
                loadProducts();
            } catch (error) {
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞');
            }
        }

        async function loadProducts() {
            try {
                const response = await fetch('/api/products');
                const data = await response.json();
                
                const list = document.getElementById('productsList');
                if (data.products.length === 0) {
                    list.innerHTML = `
                        <div class="empty-state">
                            <div class="icon">üìù</div>
                            <p>–ù–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤</p>
                        </div>
                    `;
                    return;
                }

                list.innerHTML = data.products.map(product => `
                    <div class="product-item">
                        <span>${product}</span>
                        <button onclick="deleteProduct('${product}')" class="delete-btn">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                `).join('');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤:', error);
            }
        }

        async function deleteProduct(product) {
            try {
                await fetch('/api/products/' + encodeURIComponent(product), {
                    method: 'DELETE'
                });
                loadProducts();
            } catch (error) {
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞');
            }
        }

        async function clearProducts() {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã?')) return;

            try {
                await fetch('/api/products', {
                    method: 'DELETE'
                });
                loadProducts();
                document.getElementById('recipesContainer').innerHTML = `
                    <div class="empty-state">
                        <div class="icon">üë®‚Äçüç≥</div>
                        <p>–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –Ω–∞–∂–º–∏—Ç–µ "–ù–∞–π—Ç–∏ —Ä–µ—Ü–µ–ø—Ç—ã"</p>
                    </div>
                `;
            } catch (error) {
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤');
            }
        }

        async function findRecipes() {
            const recipesContainer = document.getElementById('recipesContainer');
            
            try {
                const response = await fetch('/api/recipes');
                const data = await response.json();
                
                if (data.recipes.length === 0) {
                    recipesContainer.innerHTML = `
                        <div class="empty-state">
                            <div class="icon">üòî</div>
                            <p>–ù–µ –Ω–∞–π–¥–µ–Ω–æ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –¥–ª—è –≤–∞—à–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤</p>
                            <p>–î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</p>
                        </div>
                    `;
                    return;
                }

                recipesContainer.innerHTML = data.recipes.map(recipe => `
                    <div class="recipe-card">
                        <div class="recipe-header">
                            <h3>${recipe.name}</h3>
                            <span class="match-badge">${recipe.match_percent}% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ</span>
                        </div>
                        
                        <div class="recipe-meta">
                            <strong>‚è±Ô∏è –í—Ä–µ–º—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è:</strong> ${recipe.time} –º–∏–Ω—É—Ç
                        </div>
                        
                        <div class="ingredients-section">
                            <strong>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:</strong>
                            <div class="ingredients-list">
                                ${recipe.ingredients.map(ing => `
                                    <span class="ingredient ${recipe.matching_ingredients.includes(ing) ? 'has' : 'missing'}">
                                        ${ing} ${recipe.matching_ingredients.includes(ing) ? '‚úì' : '‚úó'}
                                    </span>
                                `).join('')}
                            </div>
                        </div>
                        
                        ${recipe.missing_ingredients.length > 0 ? `
                        <div class="missing-ingredients">
                            <h4>üö´ –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤:</h4>
                            <div style="color: #e74c3c;">${recipe.missing_ingredients.join(', ')}</div>
                        </div>
                        ` : ''}
                        
                        <div class="instructions">
                            <strong>üë®‚Äçüç≥ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ:</strong>
                            <div>${recipe.detailed_instructions}</div>
                        </div>
                        
                        <a href="${recipe.url}" target="_blank" class="url-btn">
                            üìñ –û—Ç–∫—Ä—ã—Ç—å –ø–æ–ª–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç –Ω–∞ Povarenok.ru
                        </a>
                    </div>
                `).join('');
            } catch (error) {
                recipesContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="icon">‚ùå</div>
                        <p>–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤</p>
                    </div>
                `;
            }
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ–¥—É–∫—Ç—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        loadProducts();
    </script>
</body>
</html>
"""

@app.get("/")
def home():
    return HTMLResponse(HTML)

@app.get("/api/products")
def get_products():
    conn = sqlite3.connect('food.db')
    products = [row[0] for row in conn.execute('SELECT product FROM user_products').fetchall()]
    conn.close()
    return {"products": products}

@app.post("/api/products/{product}")
def add_product(product: str):
    normalized_product = normalize_product(product)
    conn = sqlite3.connect('food.db')
    conn.execute('INSERT OR IGNORE INTO user_products (product) VALUES (?)', (normalized_product,))
    conn.commit()
    conn.close()
    return {"message": "–î–æ–±–∞–≤–ª–µ–Ω–æ", "normalized": normalized_product}

@app.delete("/api/products/{product}")
def delete_product(product: str):
    conn = sqlite3.connect('food.db')
    conn.execute('DELETE FROM user_products WHERE product = ?', (product,))
    conn.commit()
    conn.close()
    return {"message": "–£–¥–∞–ª–µ–Ω–æ"}

@app.delete("/api/products")
def clear_products():
    conn = sqlite3.connect('food.db')
    conn.execute('DELETE FROM user_products')
    conn.commit()
    conn.close()
    return {"message": "–û—á–∏—â–µ–Ω–æ"}

@app.get("/api/recipes")
def get_recipes():
    conn = sqlite3.connect('food.db')
    user_products = [row[0] for row in conn.execute('SELECT product FROM user_products').fetchall()]
    
    if not user_products:
        return {"recipes": []}
    
    all_recipes = conn.execute('SELECT * FROM recipes').fetchall()
    conn.close()
    
    matching = []
    for recipe in all_recipes:
        ingredients = json.loads(recipe[2])
        
        # –ò—â–µ–º –°–û–í–ü–ê–î–ê–Æ–©–ò–ï –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã (—Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω)
        matching_ingredients = [ing for ing in ingredients if ing in user_products]
        
        # –ï—Å–ª–∏ –µ—Å—Ç—å –•–û–¢–Ø –ë–´ –û–î–ò–ù —Å–æ–≤–ø–∞–¥–∞—é—â–∏–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ—Ü–µ–ø—Ç
        if matching_ingredients:
            # –°—á–∏—Ç–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
            match_percent = int((len(matching_ingredients) / len(ingredients)) * 100)
            
            matching.append({
                "name": recipe[1],
                "ingredients": ingredients,
                "matching_ingredients": matching_ingredients,  # –ö–∞–∫–∏–µ –µ—Å—Ç—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                "missing_ingredients": [ing for ing in ingredients if ing not in user_products],  # –ö–∞–∫–∏—Ö –Ω–µ—Ç
                "instructions": recipe[3],
                "time": recipe[4],
                "url": recipe[5],
                "detailed_instructions": recipe[6],  # –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
                "match_percent": match_percent  # –ü—Ä–æ—Ü–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
            })
    
    # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –ø—Ä–æ—Ü–µ–Ω—Ç—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (–æ—Ç –±–æ–ª—å—à–µ–≥–æ –∫ –º–µ–Ω—å—à–µ–º—É)
    matching.sort(key=lambda x: x["match_percent"], reverse=True)
    
    return {"recipes": matching}

def open_browser():
    time.sleep(2)
    webbrowser.open("http://localhost:8000")

if __name__ == "__main__":
    init_db()
    threading.Thread(target=open_browser, daemon=True).start()
    print("üç≥ –£–º–Ω—ã–π Food Planner –∑–∞–ø—É—â–µ–Ω! –û—Ç–∫—Ä—ã–≤–∞—é –±—Ä–∞—É–∑–µ—Ä...")
    print("üåê –ê–¥—Ä–µ—Å: http://localhost:8000")
    print("üéØ –°–∏—Å—Ç–µ–º–∞ –ø–æ–Ω–∏–º–∞–µ—Ç —Å–∏–Ω–æ–Ω–∏–º—ã: '–∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞', '–∫—É—Ä–æ—á–∫–∞', '–∫—É—Ä–∏—Ü–∞'")
    print("üìù –í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏")
    print("üîó –°—Å—ã–ª–∫–∏ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã Povarenok.ru")
    uvicorn.run(app, host="localhost", port=8000)